@page "/loginNewPassword"
@using System.Collections.Generic;
@using System.Net.Mail;
@using System.IO;
@using System.Linq;
@using System.Reflection;
@inject Blazored.LocalStorage.ISyncLocalStorageService localStorage
@inject NavigationManager NavigationManager

<style>
    .demo-card-wide.mdl-card {
        width: 400px;
        height: 500px;
        margin-left: 35%;
        margin-top: 160px;
        background-color: #fff;
        color: black;
        border: 1px solid;
    }

    body {
        background: white;
    }

    .mdl-button--colored {
        margin-left: 10px;
        width: 90%;
    }

    .mdl-textfield{
        padding-left: 10px;
        width: 90%;
    }

    a {
        color: blue;
        text-decoration: none;
    }

    .forgotPassword {
        display: flex;
        justify-content: center;
        padding-top: 50px;
        font-weight: bold;
        font-size: 30px;
    }
    .goBack {
        display: flex;
        justify-content: center;
        padding-top: 30px;
        font-size: 16px;
    }
    #login{
        position: relative;
        left: 42%;
    }
</style>

<body>
    <div class="demo-card-wide mdl-card">

        <div class="forgotPassword"> New Password</div>

        <div class="goBack"> You can set a new Password now! </div>

        <form @onsubmit="@validateForm">
             <div class="mdl-textfield mdl-js-textfield">
                <input required class="mdl-textfield__input" type="password" placeholder="Enter generated Password ..."  @bind=@generatedPassword>
            </div>
            <div class="mdl-textfield mdl-js-textfield">
                <input required class="mdl-textfield__input" type="password" placeholder="Enter a new Password ..."  @bind=@newPassword>
            </div>
            <div class="mdl-textfield mdl-js-textfield">
                <input required class="mdl-textfield__input" type="password" placeholder="Confirm your new Password ..." @bind=@confirmNewPassword>
            </div>
            <br>
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
                Change Password
            </button> <br /> <br />
        </form> 
        <h5 style="background:@colorFehlermeldung;font-size:15px;height:100px;" > @Fehlermeldung </h5>
        @if (ForgotPassword.newPassword == generatedPassword && !string.IsNullOrEmpty(generatedPassword) && buttonClicked){
            <a href="/login" id="login"> Login </a>
        }
        @if (true)
        {
            RenderFragment GreetPerson()
            {
                return @<div> FILL BASIC CREDENTIALS</div>;
            }
            @GreetPerson()
        }  
    </div>
</body>
